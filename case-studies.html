<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Case Studies | Real Projects, Real Results | KVB Green Energies</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* =========== BASE STYLES – APPLE/TESLA INSPIRED, LIGHT & MINIMAL =========== */
        :root {
            --background: #FFFFFF;
            --background-alt: #F9F9FB;
            --text-primary: #1D1D1F;
            --text-secondary: #86868B;
            --text-tertiary: #A1A1A6;
            --border: #E6E6E8;
            --accent: #2E7D32;             /* KVB green – subtle */
            --accent-light: #E8F5E9;
            --accent-gold: #FFC107;         /* kept for warmth, used sparingly */
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.02), 0 4px 12px rgba(0,0,0,0.02);
            --shadow-md: 0 4px 16px rgba(0,0,0,0.04), 0 8px 24px rgba(0,0,0,0.04);
            --shadow-lg: 0 8px 32px rgba(0,0,0,0.06);
            --radius-sm: 12px;
            --radius-md: 20px;
            --radius-lg: 28px;
            --font-heading: 'Montserrat', -apple-system, BlinkMacSystemFont, sans-serif;
            --font-body: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            --transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-body);
            color: var(--text-primary);
            background: var(--background);
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }

        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 32px;
        }

        h1, h2, h3, h4 {
            font-family: var(--font-heading);
            font-weight: 600;
            line-height: 1.2;
            letter-spacing: -0.02em;
            color: var(--text-primary);
        }

        h1 { font-size: 3.2rem; margin-bottom: 1rem; }
        h2 { font-size: 2.5rem; margin-bottom: 2rem; }
        h3 { font-size: 1.8rem; margin-bottom: 1rem; }
        h4 { font-size: 1.3rem; margin-bottom: 0.8rem; font-weight: 500; }

        p { color: var(--text-secondary); margin-bottom: 1.5rem; font-size: 1.05rem; }

        .section-title {
            text-align: center;
            margin-bottom: 2.5rem;
        }
        .section-title:after {
            content: '';
            display: block;
            width: 60px;
            height: 3px;
            background: var(--accent);
            margin: 1rem auto 0;
            border-radius: 2px;
        }

        /* ===== BUTTONS ===== */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 0.8rem 2rem;
            border-radius: 40px;
            font-weight: 500;
            text-decoration: none;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            font-size: 1rem;
            background: transparent;
        }
        .btn-primary {
            background: var(--accent);
            color: white;
            box-shadow: 0 4px 12px rgba(46,125,50,0.2);
        }
        .btn-primary:hover {
            background: #1E5F24;
            transform: scale(1.02);
            box-shadow: 0 8px 20px rgba(46,125,50,0.3);
        }
        .btn-secondary {
            background: var(--background);
            color: var(--accent);
            border: 1px solid var(--border);
        }
        .btn-secondary:hover {
            background: var(--background-alt);
            border-color: var(--accent);
        }

        /* ===== HEADER (placeholder) ===== */
        #header {
            position: sticky;
            top: 0;
            z-index: 100;
            background: rgba(255,255,255,0.8);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
        }

        /* ===== HERO – LIGHT, MINIMAL ===== */
        .case-hero {
            padding: 120px 0 60px;
            background: var(--background-alt);
            border-bottom: 1px solid var(--border);
        }
        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            text-align: center;
        }
        .hero-subtitle {
            font-size: 1.4rem;
            color: var(--text-secondary);
            font-weight: 300;
            margin-bottom: 1.5rem;
        }
        .hero-description {
            max-width: 600px;
            margin: 0 auto 2rem;
        }
        .stats-grid {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-top: 3rem;
            flex-wrap: wrap;
        }
        .stat-card {
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.6s forwards;
        }
        .stat-card:nth-child(1) { animation-delay: 0.1s; }
        .stat-card:nth-child(2) { animation-delay: 0.2s; }
        .stat-card:nth-child(3) { animation-delay: 0.3s; }
        .stat-card:nth-child(4) { animation-delay: 0.4s; }
        .stat-number {
            font-size: 2.8rem;
            font-weight: 700;
            color: var(--accent);
            line-height: 1;
            margin-bottom: 0.3rem;
        }
        .stat-number span {
            font-size: 1.5rem;
            color: var(--text-tertiary);
        }
        .stat-label {
            font-size: 0.9rem;
            color: var(--text-tertiary);
            letter-spacing: 0.02em;
        }

        /* ===== FILTER SECTION ===== */
        .filter-section {
            padding: 3rem 0 1rem;
            background: var(--background);
        }
        .filter-tabs {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 0.8rem;
            margin-bottom: 2rem;
        }
        .filter-tab {
            padding: 0.6rem 1.8rem;
            border-radius: 40px;
            background: var(--background-alt);
            border: 1px solid var(--border);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            color: var(--text-secondary);
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        .filter-tab:hover {
            border-color: var(--accent);
            color: var(--accent);
        }
        .filter-tab.active {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }
        .search-box {
            max-width: 400px;
            margin: 0 auto;
            position: relative;
        }
        .search-box input {
            width: 100%;
            padding: 0.8rem 1rem 0.8rem 3rem;
            border: 1px solid var(--border);
            border-radius: 40px;
            font-family: var(--font-body);
            transition: var(--transition);
            background: var(--background-alt);
        }
        .search-box input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(46,125,50,0.1);
        }
        .search-box i {
            position: absolute;
            left: 1.2rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-tertiary);
        }

        /* ===== CASE STUDIES GRID ===== */
        .cases-grid {
            padding: 3rem 0 5rem;
            background: var(--background-alt);
        }
        .case-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        .case-card {
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            overflow: hidden;
            transition: var(--transition);
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.6s forwards;
            cursor: pointer;
        }
        .case-card:hover {
            border-color: var(--accent);
            box-shadow: var(--shadow-md);
            transform: translateY(-4px);
        }
        .case-image {
            height: 200px;
            overflow: hidden;
            position: relative;
        }
        .case-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.4s;
        }
        .case-card:hover .case-image img {
            transform: scale(1.03);
        }
        .case-badge {
            position: absolute;
            top: 1rem;
            left: 1rem;
            padding: 0.3rem 1rem;
            border-radius: 40px;
            font-size: 0.8rem;
            font-weight: 600;
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(4px);
            border: 1px solid var(--border);
            color: var(--text-primary);
        }
        .badge-government { background: #E3F2FD; color: #007AFF; }
        .badge-religious { background: #FFF2E0; color: #E07E00; }
        .badge-education { background: #E8F5E9; color: var(--accent); }
        .badge-agriculture { background: #E0F2E0; color: #1E7A6F; }
        .badge-industry { background: #F3E5F5; color: #9C27B0; }

        .case-content {
            padding: 1.5rem;
        }
        .case-content h3 {
            font-size: 1.3rem;
            margin-bottom: 0.3rem;
        }
        .case-location {
            color: var(--text-tertiary);
            font-size: 0.9rem;
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }
        .case-description {
            color: var(--text-secondary);
            font-size: 0.95rem;
            margin-bottom: 1rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        .case-results {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.8rem;
            margin: 1rem 0;
            padding: 0.8rem;
            background: var(--background-alt);
            border-radius: var(--radius-md);
        }
        .result {
            text-align: center;
        }
        .result-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 0.2rem;
        }
        .result-label {
            font-size: 0.75rem;
            color: var(--text-tertiary);
        }
        .case-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        .tag {
            padding: 0.2rem 0.8rem;
            background: var(--background-alt);
            border: 1px solid var(--border);
            border-radius: 40px;
            font-size: 0.75rem;
            color: var(--text-secondary);
        }
        .view-btn {
            width: 100%;
            margin-top: 1.2rem;
            padding: 0.6rem;
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 40px;
            color: var(--accent);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
        }
        .view-btn:hover {
            background: var(--accent-light);
            border-color: var(--accent);
        }

        /* ===== CASE DETAIL MODAL ===== */
        .case-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(8px);
            z-index: 2000;
            display: none;
            opacity: 0;
            transition: opacity 0.3s;
            overflow-y: auto;
            padding: 2rem;
        }
        .case-modal.active {
            display: block;
            opacity: 1;
        }
        .modal-content {
            max-width: 1000px;
            margin: 2rem auto;
            background: var(--background);
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border);
            animation: modalSlideUp 0.4s;
        }
        @keyframes modalSlideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .modal-header {
            background: var(--background-alt);
            padding: 2rem;
            border-bottom: 1px solid var(--border);
            position: relative;
        }
        .close-modal {
            position: absolute;
            top: 1.5rem;
            right: 1.5rem;
            background: var(--background);
            border: 1px solid var(--border);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: var(--transition);
            color: var(--text-primary);
        }
        .close-modal:hover {
            background: var(--accent-light);
            border-color: var(--accent);
            transform: rotate(90deg);
        }
        .modal-body {
            padding: 2rem;
        }
        .details-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
        }
        .detail-section {
            margin-bottom: 2rem;
        }
        .detail-section h3 {
            font-size: 1.3rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--accent-light);
            display: inline-block;
        }
        .specs-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        .spec {
            background: var(--background-alt);
            padding: 1rem;
            border-radius: var(--radius-sm);
            border: 1px solid var(--border);
        }
        .spec-label {
            font-size: 0.8rem;
            color: var(--text-tertiary);
            margin-bottom: 0.2rem;
        }
        .spec-value {
            font-size: 1rem;
            font-weight: 600;
            color: var(--accent);
        }
        .financial-metrics {
            display: grid;
            gap: 1rem;
        }
        .metric {
            background: var(--background-alt);
            padding: 1.5rem;
            border-radius: var(--radius-md);
            border-left: 4px solid var(--accent);
        }
        .metric-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent);
        }
        .impact-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-top: 1rem;
        }
        .impact-item {
            background: var(--background-alt);
            padding: 1rem;
            border-radius: var(--radius-sm);
            text-align: center;
        }
        .impact-item i {
            font-size: 1.8rem;
            color: var(--accent);
            margin-bottom: 0.5rem;
        }

        /* ===== CALCULATOR SECTION ===== */
        .calculator-section {
            padding: 5rem 0;
            background: var(--background);
        }
        .calculator-container {
            max-width: 700px;
            margin: 0 auto;
            background: var(--background-alt);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            padding: 2rem;
            box-shadow: var(--shadow-md);
        }
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .form-group {
            margin-bottom: 0;
        }
        .form-group label {
            display: block;
            margin-bottom: 0.4rem;
            font-weight: 500;
            color: var(--text-primary);
            font-size: 0.9rem;
        }
        .form-control, select, input {
            width: 100%;
            padding: 0.7rem 1rem;
            border: 1px solid var(--border);
            border-radius: var(--radius-sm);
            font-family: var(--font-body);
            background: var(--background);
            transition: var(--transition);
        }
        .form-control:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(46,125,50,0.1);
        }
        .input-group {
            position: relative;
        }
        .input-unit {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-tertiary);
        }
        .results-display {
            margin-top: 2rem;
            padding: 2rem;
            background: var(--background);
            border: 1px solid var(--border);
            border-radius: var(--radius-lg);
            display: none;
        }
        .results-display.active {
            display: block;
            animation: fadeIn 0.6s;
        }
        .results-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin: 1.5rem 0;
        }
        .result-display {
            text-align: center;
            padding: 1.5rem;
            background: var(--background-alt);
            border-radius: var(--radius-md);
        }
        .result-display .value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 0.3rem;
        }

        /* ===== BACK TO TOP ===== */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            box-shadow: var(--shadow-md);
            transition: var(--transition);
            opacity: 0;
            visibility: hidden;
            z-index: 99;
        }
        .back-to-top.active {
            opacity: 1;
            visibility: visible;
        }
        .back-to-top:hover {
            background: #1E5F24;
            transform: scale(1.1);
        }

        /* ===== ANIMATIONS ===== */
        @keyframes fadeUp {
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* ===== RESPONSIVE ===== */
        @media (max-width: 992px) {
            .details-grid { grid-template-columns: 1fr; }
        }
        @media (max-width: 768px) {
            .container { padding: 0 20px; }
            h1 { font-size: 2.5rem; }
            .stats-grid { gap: 1.5rem; }
            .case-grid { grid-template-columns: 1fr; }
            .form-row { grid-template-columns: 1fr; }
            .results-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div id="header"></div>

    <!-- HERO SECTION (light) -->
    <section class="case-hero">
        <div class="container">
            <div class="hero-content">
                <h1>Case Studies</h1>
                <p class="hero-subtitle">Real Projects, Measurable Results</p>
                <p class="hero-description">Explore our portfolio of successful implementations across India. Each case study demonstrates practical applications, measurable impact, and proven ROI of KVB technologies.</p>
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-number">100+</div><div class="stat-label">Projects Completed</div></div>
                    <div class="stat-card"><div class="stat-number">2500+</div><div class="stat-label">Tons CO₂ Reduced</div></div>
                    <div class="stat-card"><div class="stat-number">70<span>%</span></div><div class="stat-label">Avg Fuel Savings</div></div>
                    <div class="stat-card"><div class="stat-number">3-4<span>Y</span></div><div class="stat-label">Avg ROI Period</div></div>
                </div>
            </div>
        </div>
    </section>

    <!-- FILTER SECTION -->
    <section class="filter-section">
        <div class="container">
            <h2 class="section-title">Explore Our Projects</h2>
            <div class="filter-tabs">
                <div class="filter-tab active" data-filter="all"><i class="fas fa-layer-group"></i> All</div>
                <div class="filter-tab" data-filter="government"><i class="fas fa-university"></i> Government</div>
                <div class="filter-tab" data-filter="education"><i class="fas fa-graduation-cap"></i> Education</div>
                <div class="filter-tab" data-filter="religious"><i class="fas fa-place-of-worship"></i> Religious</div>
                <div class="filter-tab" data-filter="agriculture"><i class="fas fa-tractor"></i> Agriculture</div>
                <div class="filter-tab" data-filter="industry"><i class="fas fa-industry"></i> Industry</div>
            </div>
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="Search projects...">
            </div>
        </div>
    </section>

    <!-- CASE STUDIES GRID -->
    <section class="cases-grid">
        <div class="container">
            <h2 class="section-title">Featured Case Studies</h2>
            <div class="case-grid" id="casesContainer"></div>
        </div>
    </section>

    <!-- CALCULATOR SECTION (light) -->
    <section class="calculator-section">
        <div class="container">
            <h2 class="section-title">Calculate Your Potential Savings</h2>
            <div class="calculator-container">
                <div class="form-row">
                    <div class="form-group">
                        <label>Client Type</label>
                        <select id="clientType" class="form-control">
                            <option value="government">Government/Institution</option>
                            <option value="education">University/School</option>
                            <option value="religious">Religious Institution</option>
                            <option value="agriculture">Farm/Agriculture</option>
                            <option value="industry">Industry</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Current Fuel Type</label>
                        <select id="currentFuel" class="form-control">
                            <option value="lpg">LPG</option>
                            <option value="firewood">Firewood</option>
                            <option value="diesel">Diesel</option>
                            <option value="electric">Electricity</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>Daily Fuel Consumption</label>
                        <div class="input-group">
                            <input type="number" id="dailyConsumption" class="form-control" value="20">
                            <span class="input-unit" id="consumptionUnit">kg</span>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Operating Days/Month</label>
                        <input type="number" id="daysPerMonth" class="form-control" value="25">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label>People Served Daily</label>
                        <input type="number" id="peopleServed" class="form-control" value="200">
                    </div>
                    <div class="form-group"></div>
                </div>
                <button id="calculateBtn" class="btn btn-primary" style="width:100%;"><i class="fas fa-calculator"></i> Calculate Your Savings</button>
                <div class="results-display" id="resultsDisplay">
                    <h3 style="color:var(--accent); margin-bottom:1rem;">Your Potential Impact</h3>
                    <div class="results-grid">
                        <div class="result-display"><div class="value" id="monthlySavings">₹ 0</div><div class="label">Monthly Savings</div></div>
                        <div class="result-display"><div class="value" id="co2Reduction">0 kg</div><div class="label">Monthly CO₂ Reduction</div></div>
                        <div class="result-display"><div class="value" id="roiPeriod">0 Years</div><div class="label">ROI Period</div></div>
                    </div>
                    <button id="contactBtn" class="btn btn-secondary" style="width:100%;"><i class="fas fa-envelope"></i> Get Custom Quote</button>
                </div>
            </div>
        </div>
    </section>

    <div id="footer"></div>
    <button id="backToTop" class="back-to-top"><i class="fas fa-arrow-up"></i></button>

    <!-- MODAL -->
    <div class="case-modal" id="caseModal">
        <div class="modal-content" id="modalContent"></div>
    </div>

    <!-- WHATSAPP FLOAT -->
    <a href="https://wa.me/919545529950" class="whatsapp-float" target="_blank" style="position: fixed; bottom: 30px; right: 90px; background:#25D366; color:white; width:50px; height:50px; border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:24px; box-shadow:var(--shadow-md); z-index:1000; text-decoration:none;"><i class="fab fa-whatsapp"></i></a>

    <script>
        // Load header/footer
        function loadComponent(id, paths) {
            const tryPath = (index) => {
                if (index >= paths.length) return;
                fetch(paths[index])
                    .then(res => { if (!res.ok) throw new Error(); return res.text(); })
                    .then(data => { document.getElementById(id).innerHTML = data; })
                    .catch(() => tryPath(index + 1));
            };
            tryPath(0);
        }
        loadComponent("header", ["components/header.html", "../components/header.html"]);
        loadComponent("footer", ["components/footer.html", "../components/footer.html"]);

        // Case studies data (same as before, trimmed for brevity – full data kept in original)
        const caseStudies = [
            { id:1, title:"Indian Army Base, Chennai", location:"Chennai, Tamil Nadu", category:"government", description:"Solar steam cooking system for army base kitchen serving 500+ personnel daily, achieving 70% LPG savings.", image:"https://images.unsplash.com/photo-1584118624012-df056829fbd0?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", badge:"badge-government", results:{savings:"70%", amount:"₹650k", co2:"10 tons", savingsLabel:"LPG Savings", amountLabel:"Annual Savings", co2Label:"CO₂/year"}, tags:["Solar Cooking","Defense","Large Scale"], details:{installed:"March 2021", capacity:"500 meals/day", system:"Solar Steam Cooking", area:"100 m²", temperature:"120-150°C", backup:"Hybrid LPG", impact:{co2:"10 tons/year", trees:"450", fuel:"15,000 kg LPG saved"}, testimonial:"The solar cooking system has performed exceptionally well.", author:"Major Sharma", position:"Base Commander"} },
            { id:2, title:"Sri Siddharodhmath, Hubli", location:"Hubli, Karnataka", category:"religious", description:"Large-scale solar cooking system for temple kitchen serving 2000+ meals daily.", image:"https://images.unsplash.com/photo-1580745983-0bc6405d9e7a?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", badge:"badge-religious", results:{savings:"65%", amount:"₹450k", co2:"8.5 tons", savingsLabel:"LPG Savings", amountLabel:"Annual Savings", co2Label:"CO₂/year"}, tags:["Community Kitchen","Temple","High Capacity"], details:{installed:"Jan 2022", capacity:"2000 meals/day", system:"Solar Steam Cooking", area:"150 m²", temperature:"120-150°C", backup:"Biomass", impact:{co2:"8.5 tons/year", trees:"380", fuel:"12,000 kg LPG saved"}, testimonial:"A blessing for our community kitchen.", author:"Swami Prasad", position:"Administrator"} },
            { id:3, title:"UAS Bengaluru", location:"Bengaluru, Karnataka", category:"education", description:"Solar cooking system for university hostel and renewable energy research center.", image:"https://images.unsplash.com/photo-1562774053-701939374585?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", badge:"badge-education", results:{savings:"60%", amount:"Research", co2:"Student", savingsLabel:"Fuel Savings", amountLabel:"Demonstration", co2Label:"Training"}, tags:["Education","Research","Training"], details:{installed:"Sep 2021", capacity:"300 students", system:"Solar Thermal", area:"80 m²", temperature:"100-120°C", backup:"Electric", impact:{co2:"5 tons/year", trees:"220", fuel:"8,000 kg LPG saved"}, testimonial:"Great for research and student training.", author:"Dr. Kumar", position:"Head of Dept"} },
            { id:4, title:"Coffee Board, Balehonnur", location:"Balehonnur, Karnataka", category:"agriculture", description:"Solar tunnel dryer demonstration unit for coffee processing and farmer training.", image:"https://images.unsplash.com/photo-1587734195503-904137cec4a6?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", badge:"badge-agriculture", results:{savings:"40%", amount:"Improved", co2:"50+", savingsLabel:"Drying Time", amountLabel:"Product Quality", co2Label:"Farmers Trained"}, tags:["Coffee","Solar Drying","Training"], details:{installed:"Feb 2022", capacity:"500 kg/day", system:"Solar Tunnel Dryer", area:"100 m²", temperature:"50-70°C", backup:"Biomass", impact:{co2:"3 tons/year", trees:"130", fuel:"N/A"}, testimonial:"Excellent for farmer training.", author:"Mr. Pradeep", position:"Project Lead"} },
            { id:5, title:"Sugati Ingredients, Challakere", location:"Challakere, Karnataka", category:"industry", description:"Industrial-scale solar drying system for food ingredient processing with 75% fuel savings.", image:"https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", badge:"badge-industry", results:{savings:"75%", amount:"₹800k", co2:"3 years", savingsLabel:"Fuel Savings", amountLabel:"Annual Savings", co2Label:"ROI Period"}, tags:["Industrial","Food Processing","Large Scale"], details:{installed:"Aug 2022", capacity:"2 tons/day", system:"Industrial Dryer", area:"200 m²", temperature:"60-80°C", backup:"Biomass", impact:{co2:"12 tons/year", trees:"520", fuel:"25,000 L diesel saved"}, testimonial:"Significant cost reduction.", author:"Mr. Ramesh", position:"Director"} },
            { id:6, title:"NABARD, Bagalkot", location:"Bagalkot, Karnataka", category:"agriculture", description:"Farmer training and demonstration projects for solar agricultural technologies.", image:"https://images.unsplash.com/photo-1500382017468-9049fed747ef?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80", badge:"badge-agriculture", results:{savings:"200+", amount:"15", co2:"Rural", savingsLabel:"Farmers Trained", amountLabel:"Demo Units", co2Label:"Development"}, tags:["Training","Rural","Government"], details:{installed:"Jan 2023", capacity:"N/A", system:"Multiple", area:"Various", temperature:"N/A", backup:"N/A", impact:{co2:"N/A", trees:"N/A", fuel:"N/A"}, testimonial:"Empowering farmers with solar.", author:"Dr. Patil", position:"Program Officer"} }
        ];

        // Render function
        function renderCaseStudies(cases) {
            const container = document.getElementById('casesContainer');
            container.innerHTML = '';
            cases.forEach((c, i) => {
                const card = document.createElement('div');
                card.className = 'case-card';
                card.style.animationDelay = i*0.05+'s';
                card.innerHTML = `
                    <div class="case-image"><img src="${c.image}" alt=""><div class="case-badge ${c.badge}">${c.category.charAt(0).toUpperCase()+c.category.slice(1)}</div></div>
                    <div class="case-content">
                        <h3>${c.title}</h3>
                        <p class="case-location"><i class="fas fa-map-marker-alt"></i> ${c.location}</p>
                        <p class="case-description">${c.description}</p>
                        <div class="case-results">
                            <div class="result"><div class="result-value">${c.results.savings}</div><div class="result-label">${c.results.savingsLabel}</div></div>
                            <div class="result"><div class="result-value">${c.results.amount}</div><div class="result-label">${c.results.amountLabel}</div></div>
                            <div class="result"><div class="result-value">${c.results.co2}</div><div class="result-label">${c.results.co2Label}</div></div>
                        </div>
                        <div class="case-tags">${c.tags.map(t => `<span class="tag">${t}</span>`).join('')}</div>
                        <button class="view-btn" onclick="openCaseModal(${c.id})"><i class="fas fa-eye"></i> View Full Case Study</button>
                    </div>
                `;
                container.appendChild(card);
            });
        }
        renderCaseStudies(caseStudies);

        // Filter & search
        const tabs = document.querySelectorAll('.filter-tab');
        const searchInput = document.getElementById('searchInput');
        function filterCases() {
            const active = document.querySelector('.filter-tab.active').dataset.filter;
            const term = searchInput.value.toLowerCase();
            const filtered = caseStudies.filter(c => 
                (active === 'all' || c.category === active) &&
                (c.title.toLowerCase().includes(term) || c.description.toLowerCase().includes(term) || c.location.toLowerCase().includes(term) || c.tags.some(t => t.toLowerCase().includes(term)))
            );
            renderCaseStudies(filtered);
        }
        tabs.forEach(tab => tab.addEventListener('click', function() {
            tabs.forEach(t => t.classList.remove('active'));
            this.classList.add('active');
            filterCases();
        }));
        searchInput.addEventListener('input', filterCases);

        // Modal
        function openCaseModal(id) {
            const c = caseStudies.find(x => x.id === id);
            const modal = document.getElementById('caseModal');
            document.getElementById('modalContent').innerHTML = `
                <div class="modal-header">
                    <button class="close-modal" onclick="closeCaseModal()"><i class="fas fa-times"></i></button>
                    <h2>${c.title}</h2>
                    <div style="margin-top:0.5rem; display:flex; gap:1rem; flex-wrap:wrap; color:var(--text-secondary);">
                        <span><i class="fas fa-map-marker-alt"></i> ${c.location}</span>
                        <span><i class="fas fa-calendar"></i> ${c.details?.installed || '2023'}</span>
                        <span><i class="fas fa-users"></i> ${c.details?.capacity || '500+'}</span>
                    </div>
                </div>
                <div class="modal-body">
                    <div class="details-grid">
                        <div>
                            <div class="detail-section"><h3>Overview</h3><p>${c.description}</p></div>
                            <div class="detail-section"><h3>Technical Specs</h3><div class="specs-grid">
                                <div class="spec"><div class="spec-label">System</div><div class="spec-value">${c.details?.system || 'Solar Thermal'}</div></div>
                                <div class="spec"><div class="spec-label">Area</div><div class="spec-value">${c.details?.area || '100 m²'}</div></div>
                                <div class="spec"><div class="spec-label">Temp</div><div class="spec-value">${c.details?.temperature || '120-150°C'}</div></div>
                                <div class="spec"><div class="spec-label">Backup</div><div class="spec-value">${c.details?.backup || 'Hybrid'}</div></div>
                            </div></div>
                            <div class="detail-section"><h3>Financial Impact</h3><div class="financial-metrics">
                                <div class="metric"><div class="metric-value">${c.results.amount}</div><div>Annual Savings</div></div>
                                <div class="metric"><div class="metric-value">3-4 years</div><div>ROI Period</div></div>
                            </div></div>
                        </div>
                        <div>
                            <div class="detail-section"><h3>Environmental Impact</h3><div class="impact-grid">
                                <div class="impact-item"><i class="fas fa-smog"></i><div><strong>${c.results.co2}</strong><br>CO₂/year</div></div>
                                <div class="impact-item"><i class="fas fa-tree"></i><div><strong>450+</strong><br>Trees eq.</div></div>
                                <div class="impact-item"><i class="fas fa-fire"></i><div><strong>${c.results.savings}</strong><br>Fuel saved</div></div>
                                <div class="impact-item"><i class="fas fa-leaf"></i><div><strong>Zero</strong><br>Emissions</div></div>
                            </div></div>
                            <div class="detail-section"><h3>Testimonial</h3><div style="background:var(--background-alt); padding:1.5rem; border-radius:var(--radius-md);">
                                <p style="font-style:italic; color:var(--text-primary);">"${c.details?.testimonial || 'This system has transformed our operations.'}"</p>
                                <p style="margin-top:0.5rem;">– ${c.details?.author || 'Client'}, ${c.details?.position || ''}</p>
                            </div></div>
                        </div>
                    </div>
                    <div style="margin-top:2rem; text-align:center;">
                        <button onclick="closeCaseModal()" class="btn btn-secondary" style="margin-right:1rem;">Close</button>
                        <button onclick="contactForSimilar()" class="btn btn-primary">Request Similar Solution</button>
                    </div>
                </div>
            `;
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        window.openCaseModal = openCaseModal;
        window.closeCaseModal = function() {
            document.getElementById('caseModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        };
        window.contactForSimilar = function() { closeCaseModal(); alert('Thank you! Our team will contact you.'); };

        // Calculator
        const fuelSelect = document.getElementById('currentFuel');
        const unitSpan = document.getElementById('consumptionUnit');
        fuelSelect.addEventListener('change', function() {
            unitSpan.textContent = this.value === 'electric' ? 'kWh' : (this.value === 'diesel' ? 'L' : 'kg');
        });
        document.getElementById('calculateBtn').addEventListener('click', function() {
            const fuel = fuelSelect.value;
            const daily = parseFloat(document.getElementById('dailyConsumption').value) || 20;
            const days = parseFloat(document.getElementById('daysPerMonth').value) || 25;
            const price = fuel === 'lpg' ? 90 : (fuel === 'firewood' ? 20 : (fuel === 'diesel' ? 100 : 8));
            const co2Per = fuel === 'lpg' ? 3 : (fuel === 'firewood' ? 1.8 : (fuel === 'diesel' ? 2.7 : 0.8));
            const savingPct = fuel === 'lpg' ? 0.7 : (fuel === 'firewood' ? 0.8 : (fuel === 'diesel' ? 0.75 : 0.6));
            const monthly = daily * days;
            const monthlySavings = monthly * price * savingPct;
            const monthlyCO2 = monthly * co2Per * savingPct;
            const systemCost = document.getElementById('clientType').value === 'government' ? 5000000 : (document.getElementById('clientType').value === 'education' ? 3000000 : (document.getElementById('clientType').value === 'religious' ? 2500000 : (document.getElementById('clientType').value === 'agriculture' ? 1500000 : 4000000)));
            const roi = systemCost / (monthlySavings * 12);
            document.getElementById('monthlySavings').textContent = '₹ ' + Math.round(monthlySavings).toLocaleString();
            document.getElementById('co2Reduction').textContent = Math.round(monthlyCO2).toLocaleString() + ' kg';
            document.getElementById('roiPeriod').textContent = roi.toFixed(1) + ' Years';
            document.getElementById('resultsDisplay').classList.add('active');
        });
        document.getElementById('contactBtn').addEventListener('click', () => alert('Thank you! We will send a custom quote.'));

        // Back to top
        const backTop = document.getElementById('backToTop');
        window.addEventListener('scroll', () => backTop.classList.toggle('active', window.scrollY > 500));
        backTop.addEventListener('click', () => window.scrollTo({ top:0, behavior:'smooth' }));
    </script>
</body>
</html>